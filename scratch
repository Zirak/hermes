CL-USER> (let ((buf (make-array 33 :element-type '(unsigned-byte 8))))
           (sb-posix:unlink #p"/tmp/hermes.sock")
           (sockets:with-open-socket (server :address-family :local
                                             :local-filename "/tmp/hermes.sock"
                                             :connect :passive)
               (loop
                  do (let ((socket (sockets:accept-connection server :wait t)))
                       (when (> (read-sequence buf socket) 0)
                         (format socket "1")
                         (finish-output socket)
                         (close socket)
                         (format t "~A~%"
                                 (coerce
                                  (loop for byte across buf
                                     until (= byte 0)
                                     collect (code-char byte))
                                  'string)))))))
